<!DOCTYPE html>
<html lang="en">
<head>
  {{ partial "head.html" . }}
</head>
<body>
  {{ partial "header.html" . }}

  <main>
    {{ block "main" . }}{{ end }}
  </main>

  {{ partial "footer.html" . }}

  {{ if .Page.Store.Get "hasMermaid" }}
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      const isDark = document.documentElement.getAttribute("data-theme") === "dark";

      mermaid.initialize({
        startOnLoad: true,
        theme: isDark ? "dark" : "default",
        flowchart: { curve: "basis" }
      });
    </script>
  {{ end }}
</body>
</html>